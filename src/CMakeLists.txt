cmake_minimum_required(VERSION 3.5)
project(buildSrc)

message(STATUS "Setting virtual env's for build..")

set(DB_ROUTE ${CMAKE_CURRENT_SOURCE_DIR}/db_route/db_route.cpp)
set(SERVER_ROUTE ${CMAKE_CURRENT_SOURCE_DIR}/server_route/crow.cpp)
set(LOGIN_ROUTE ${CMAKE_CURRENT_SOURCE_DIR}/login_route/login.cpp)
set(LIBS_DIR ${CMAKE_SOURCE_DIR}/libs)
set(INCLUDES ${CMAKE_SOURCE_DIR}/includes)
# set(CMAKE_CXX_FLAGS -lcrypto  -lssl )
list(APPEND SOURCES  ${DB_ROUTE} ${SERVER_ROUTE} ${LOGIN_ROUTE})
message(STATUS "Starting build..")
#! -lstdc++ -lcrypto -lssl
# link_libraries(${LIBS_DIR})
link_libraries(${LIBS_DIR}/libcrypto.so.3)
link_libraries(${LIBS_DIR}/libjsoncpp.so)
add_executable(Floaty ${SOURCES})
target_include_directories(Floaty PRIVATE ${INCLUDES})
target_link_directories(Floaty PRIVATE ${LIBS_DIR})
message(STATUS "Starting build.. DONE")